{"version":3,"file":"script.js","mappings":"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","sources":["webpack://food/./src/js/main.js"],"sourcesContent":["'use strict';\r\n\r\nwindow.addEventListener('DOMContentLoaded', () => {\r\n\t//Tabs\r\n\tconst tabs = document.querySelectorAll('.tabheader__item'),\r\n\t\ttabsContent = document.querySelectorAll('.tabcontent'),\r\n\t\ttabsParent = document.querySelector('.tabheader__items');\r\n\r\n\tfunction hideTabContent() {\r\n\t\ttabsContent.forEach(item => {\r\n\t\t\titem.classList.add('hide');\r\n\t\t\titem.classList.remove('show', 'fade');\r\n\t\t});\r\n\r\n\t\ttabs.forEach(item => {\r\n\t\t\titem.classList.remove('tabheader__item_active');\r\n\t\t});\r\n\t}\r\n\r\n\tfunction showTabContent(i = 0) {\r\n\t\ttabsContent[i].classList.add('show', 'fade');\r\n\t\ttabsContent[i].classList.remove('hide');\r\n\t\ttabs[i].classList.add('tabheader__item_active');\r\n\t}\r\n\r\n\thideTabContent();\r\n\tshowTabContent();\r\n\r\n\ttabsParent.addEventListener('click', (event) => {\r\n\t\tconst target = event.target;\r\n\r\n\t\tif (target && target.classList.contains('tabheader__item')) {\r\n\t\t\ttabs.forEach((item, i) => {\r\n\t\t\t\tif (target == item) {\r\n\t\t\t\t\thideTabContent();\r\n\t\t\t\t\tshowTabContent(i);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\t//Timer\r\n\r\n\tconst deadline = '2024-12-21T09:00:00';\r\n\t// getDateFromString('<span class=\"deadline\">20 мая в 00:00</span>');\r\n\r\n\tfunction getDateFromString(dateString) {\r\n\t\tlet match = /(\\d{1,2}\\s[а-я]+\\s\\d{1,2}:\\d{2})/.exec(dateString);\r\n\t\tlet dateStringConv = match ? match[1] : null;\r\n\t\tlet dateObject = dateStringConv ? new Date(dateStringConv) : null;\r\n\t\tif (dateObject) {\r\n\t\t\tlet formattedDate = dateObject.toISOString().slice(0, 19).replace('T', ' ');\r\n\t\t\tconsole.log(formattedDate);\r\n\t\t} else {\r\n\t\t\tconsole.log('Не удалось извлечь дату из строки.');\r\n\t\t}\r\n\t}\r\n\r\n\tfunction getTimeRemaining(endtime) {\r\n\t\tlet days, hours, minutes, seconds;\r\n\t\tconst t = Date.parse(endtime) - Date.parse(new Date());\r\n\r\n\t\tif (t <= 0) {\r\n\t\t\tdays = 0;\r\n\t\t\thours = 0;\r\n\t\t\tminutes = 0;\r\n\t\t\tseconds = 0;\r\n\t\t} else {\r\n\t\t\tdays = Math.floor(t / (1000 * 60 * 60 * 24));\r\n\t\t\thours = Math.floor((t / (1000 * 60 * 60) % 24));\r\n\t\t\tminutes = Math.floor((t / (1000 * 60) % 60));\r\n\t\t\tseconds = Math.floor((t / 1000) % 60);\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\t'total': t,\r\n\t\t\t'days': days,\r\n\t\t\t'hours': hours,\r\n\t\t\t'minutes': minutes,\r\n\t\t\t'seconds': seconds\r\n\t\t};\r\n\t}\r\n\r\n\tfunction getZero(num) {\r\n\t\tif (num >= 0 && num < 10) {\r\n\t\t\treturn `0${num}`;\r\n\t\t} else {\r\n\t\t\treturn num;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction setClock(selector, endtime) {\r\n\t\tconst timer = document.querySelector(selector),\r\n\t\t\tdays = timer.querySelector('#days'),\r\n\t\t\thours = timer.querySelector('#hours'),\r\n\t\t\tminutes = timer.querySelector('#minutes'),\r\n\t\t\tseconds = timer.querySelector('#seconds'),\r\n\t\t\ttimeInterval = setInterval(updateClock, 1000);\r\n\r\n\t\tupdateClock();\r\n\r\n\t\tfunction updateClock() {\r\n\t\t\tconst t = getTimeRemaining(endtime);\r\n\r\n\t\t\tdays.innerHTML = getZero(t.days);\r\n\t\t\thours.innerHTML = getZero(t.hours);\r\n\t\t\tminutes.innerHTML = getZero(t.minutes);\r\n\t\t\tseconds.innerHTML = getZero(t.seconds);\r\n\r\n\t\t\tif (t.total <= 0) {\r\n\t\t\t\tclearInterval(timeInterval);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tsetClock('.timer', deadline);\r\n\r\n\r\n\t// Modal\r\n\tconst modalTrigger = document.querySelectorAll('[data-modal]'),\r\n\t\tmodal = document.querySelector('.modal');\r\n\t// modalCloseBtn = document.querySelector('[data-close]');\r\n\r\n\r\n\tfunction openModal() {\r\n\t\tmodal.classList.add('show');\r\n\t\tmodal.classList.remove('hide');\r\n\t\tdocument.body.style.overflow = 'hidden';\r\n\t\tclearInterval(modalTimerId);\r\n\t}\r\n\r\n\tmodalTrigger.forEach(btn => {\r\n\t\tbtn.addEventListener('click', openModal);\r\n\t});\r\n\r\n\t// modalCloseBtn.addEventListener('click', () => {\r\n\t// \tcloseModal();\r\n\t// });\r\n\r\n\tmodal.addEventListener('click', (event) => {\r\n\t\tif (event.target === modal || event.target.getAttribute('data-close') == '') {\r\n\t\t\tcloseModal();\r\n\t\t}\r\n\t});\r\n\r\n\tfunction closeModal() {\r\n\t\tmodal.classList.add('hide');\r\n\t\tmodal.classList.remove('show');\r\n\t\tdocument.body.style.overflow = '';\r\n\t}\r\n\r\n\tdocument.addEventListener('keydown', (event) => {\r\n\t\tif (event.code === 'Escape' && modal.classList.contains('show')) {\r\n\t\t\tcloseModal();\r\n\t\t}\r\n\t});\r\n\r\n\tconst modalTimerId = setTimeout(openModal, 50000);\r\n\r\n\tfunction showModalByScroll() {\r\n\t\tif (window.pageYOffset + document.documentElement.clientHeight >= document.documentElement.scrollHeight - 1) {\r\n\t\t\topenModal();\r\n\t\t\twindow.removeEventListener('scroll', showModalByScroll);\r\n\t\t}\r\n\t}\r\n\r\n\twindow.addEventListener('scroll', showModalByScroll);\r\n\r\n\t//Cards используем классы для карточек\r\n\r\n\tclass CardMenu {\r\n\t\tconstructor(src, alt, title, description, price, parentSelector, ...classes) {\r\n\t\t\tthis.src = src;\r\n\t\t\tthis.alt = alt;\r\n\t\t\tthis.title = title;\r\n\t\t\tthis.description = description;\r\n\t\t\tthis.price = price;\r\n\t\t\tthis.classes = classes;\r\n\t\t\tthis.parent = document.querySelector(parentSelector);\r\n\t\t\tthis.exchange = 101.77;\r\n\t\t\tthis.exchangeToRUB();\r\n\t\t}\r\n\r\n\t\texchangeToRUB() {\r\n\t\t\tthis.price = Math.floor(this.price * this.exchange);\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst element = document.createElement('div');\r\n\r\n\t\t\tif (this.classes.length === 0) {\r\n\t\t\t\tthis.element = 'menu__item';\r\n\t\t\t\telement.classList.add(this.element);\r\n\t\t\t} else {\r\n\t\t\t\tthis.classes.forEach(className => element.classList.add(className));\r\n\t\t\t}\r\n\r\n\t\t\telement.innerHTML = `\r\n\t\t\t\t<img src=${this.src} alt=${this.alt}>\r\n\t\t\t\t<h3 class=\"menu__item-subtitle\">${this.title}</h3>\r\n\t\t\t\t<div class=\"menu__item-descr\">${this.description}</div>\r\n\t\t\t\t<div class=\"menu__item-divider\"></div>\r\n\t\t\t\t<div class=\"menu__item-price\">\r\n\t\t\t\t\t<div class=\"menu__item-cost\">Цена:</div>\r\n\t\t\t\t\t<div class=\"menu__item-total\"><span>${this.price}</span> руб/день</div>\r\n\t\t\t\t</div>\r\n\t\t\t`;\r\n\t\t\tthis.parent.append(element);\r\n\t\t}\r\n\t}\r\n\r\n\tnew CardMenu(\r\n\t\t// eslint-disable-next-line quotes\r\n\t\t\"img/tabs/vegy.jpg\",\r\n\t\t// eslint-disable-next-line quotes\r\n\t\t\"vegy\",\r\n\t\t'Меню \"Фитнес\"',\r\n\t\t'Меню \"Фитнес\" - это новый подход к приготовлению блюд: больше свежих овощей и фруктов. Продукт активных и здоровых людей. Это абсолютно новый продукт с оптимальной ценой и высоким качеством!',\r\n\t\t9.001,\r\n\t\t'.menu .container',\r\n\t\t'menu__item'\r\n\t).render();\r\n\r\n\tnew CardMenu(\r\n\t\t// eslint-disable-next-line quotes\r\n\t\t\"img/tabs/elite.jpg\",\r\n\t\t// eslint-disable-next-line quotes\r\n\t\t\"elite\",\r\n\t\t'Меню “Премиум”',\r\n\t\t'В меню “Премиум” мы используем не только красивый дизайн упаковки, но и качественное исполнение блюд. Красная рыба, морепродукты, фрукты - ресторанное меню без похода в ресторан!',\r\n\t\t21.618,\r\n\t\t'.menu .container',\r\n\t\t'menu__item'\r\n\t).render();\r\n\r\n\tnew CardMenu(\r\n\t\t// eslint-disable-next-line quotes\r\n\t\t\"img/tabs/post.jpg\",\r\n\t\t// eslint-disable-next-line quotes\r\n\t\t\"post\",\r\n\t\t'Меню \"Постное\"',\r\n\t\t'Меню “Постное” - это тщательный подбор ингредиентов: полное отсутствие продуктов животного происхождения, молоко из миндаля, овса, кокоса или гречки, правильное количество белков за счет тофу и импортных вегетарианских стейков.',\r\n\t\t16.901,\r\n\t\t'.menu .container',\r\n\t\t'menu__item'\r\n\t).render();\r\n\r\n\t//Forms\r\n\r\n\tconst forms = document.querySelectorAll('form');\r\n\r\n\tconst message = {\r\n\t\tloading: 'img/form/spinner.svg',\r\n\t\tsuccess: 'Спасибо! Скоро мы с вами свяжемся',\r\n\t\tfailure: 'Что-то пошло не так'\r\n\t};\r\n\r\n\tforms.forEach(item => {\r\n\t\tpostData(item);\r\n\t});\r\n\r\n\tfunction postData(form) {\r\n\t\tform.addEventListener('submit', (e) => {\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tconst statusMessage = document.createElement('img');\r\n\t\t\tstatusMessage.src = message.loading;\r\n\t\t\tstatusMessage.style.cssText = `\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\tmargin: 0 auto;\r\n\t\t\t`;\r\n\t\t\t// form.append(statusMessage);\r\n\t\t\tform.insertAdjacentElement('afterend', statusMessage);\r\n\r\n\t\t\tconst request = new XMLHttpRequest();\r\n\t\t\trequest.open('POST', 'server.php');\r\n\r\n\t\t\t//если оправляется 'Content-type', 'multipart/form-data', то заголовок не ставиться\r\n\t\t\trequest.setRequestHeader('Content-type', 'multipart/json');\r\n\t\t\tconst formData = new FormData(form);\r\n\r\n\t\t\tconst object = {};\r\n\t\t\tformData.forEach(function (value, key) {\r\n\t\t\t\tobject[key] = value;\r\n\t\t\t});\r\n\r\n\t\t\t// отправка в формате json\r\n\t\t\tconst json = JSON.stringify(object);\r\n\t\t\trequest.send(json);\r\n\r\n\t\t\t//отправка в формате form-data\r\n\t\t\t// request.send(formData);\r\n\r\n\t\t\trequest.addEventListener('load', () => {\r\n\t\t\t\tif (request.status === 200) {\r\n\t\t\t\t\tconsole.log(request.response);\r\n\t\t\t\t\tshowThanksModal(message.success);\r\n\t\t\t\t\tform.reset();\r\n\t\t\t\t\tstatusMessage.remove();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tshowThanksModal(message.failure);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tfunction showThanksModal(message) {\r\n\t\tconst prevModalDialog = document.querySelector('.modal__dialog');\r\n\r\n\t\tprevModalDialog.classList.add('hide');\r\n\t\topenModal();\r\n\r\n\t\tconst thanksModal = document.createElement('div');\r\n\t\tthanksModal.classList.add('modal__dialog');\r\n\t\tthanksModal.innerHTML = `\r\n\t\t<div class=\"modal__content\">\r\n\t\t\t<div class=\"modal__close\" data-close>x</div>\r\n\t\t\t<div class=\"modal__title\">${message}</div>\r\n\t\t</div>\r\n\t\t`;\r\n\r\n\t\tdocument.querySelector('.modal').append(thanksModal);\r\n\t\tsetTimeout(() => {\r\n\t\t\tthanksModal.remove();\r\n\t\t\tprevModalDialog.classList.add('show');\r\n\t\t\tprevModalDialog.classList.remove('hide');\r\n\t\t\tcloseModal();\r\n\t\t}, 4000);\r\n\t}\r\n});"],"names":["window","addEventListener","tabs","document","querySelectorAll","tabsContent","tabsParent","querySelector","hideTabContent","forEach","item","classList","add","remove","showTabContent","i","event","target","contains","deadline","getDateFromString","dateString","match","exec","dateStringConv","dateObject","Date","formattedDate","toISOString","slice","replace","console","log","getTimeRemaining","endtime","days","hours","minutes","seconds","t","parse","Math","floor","getZero","num","setClock","selector","timer","timeInterval","setInterval","updateClock","innerHTML","total","clearInterval","modalTrigger","modal","openModal","body","style","overflow","modalTimerId","btn","getAttribute","closeModal","code","setTimeout","showModalByScroll","pageYOffset","documentElement","clientHeight","scrollHeight","removeEventListener","CardMenu","constructor","src","alt","title","description","price","parentSelector","classes","parent","exchange","exchangeToRUB","render","element","createElement","length","className","append","forms","message","loading","success","failure","postData","form","e","preventDefault","statusMessage","cssText","insertAdjacentElement","request","XMLHttpRequest","open","setRequestHeader","formData","FormData","object","value","key","json","JSON","stringify","send","status","response","showThanksModal","reset","prevModalDialog","thanksModal"],"sourceRoot":""}